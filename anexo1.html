<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Anexo 1:Proyecto ASIR Nacho López</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="estilo.css" />
  <style>
    p {
      clear: both;
    }
  </style>
</head>
<body>
<h1>Instalación y configuración S.O. Raspbian</h1>
<hr />
<p>Existen diferentes sistemas operativos soportados por Raspberry Pi, siendo algunos de ellos distribuciones de terceros (tales como Ubuntu, Windows, etc.). En este caso, se opta por la distribución oficial de la propia fundación, se trata de una distribución basada en Debian, denominada RASPBIAN. En concreto <i>RASPBIAN STRETCH LITE</i>, que es una versión sin interfaz de escritorio, lo cual la hace más ligera y más acorde a los objetivos de este proyecto, que es su utilización a modo de servidor y donde no será necesario hacer uso del escritorio. Los pasos detallados del proceso a seguir para la descarga, instalación y configuración de Raspbian para su uso como servidor, se muestran a continuación.</p>
<font size="5">
<ul>
  <li><a href="#instal">Instalación de Raspbian</a></li>
  <ul><li><a href="#instal">Preparación tarjeta SD</a></li>
      <li><a href="#noobs">NOOBS. El instalador de Raspbian</a></li>
      <li><a href="#otras">Otras opciones para la Raspberry</a></li>
  </ul>
  <li><a href="#conex">Conexión a través de SSH</a></li>
  <li>Configuración básica de Raspbian </li>
  <li>Asignación de IP fija para la Raspberry Pi</li>
</ul>
</font>
<p id="instal"><h3>Instalación de Raspbian</h3></p>
<p>En primer lugar, antes de pasar a la  instalación propiamente dicha del Sistema Operativo Raspbian, se debe preparar la tarjeta SD de la Raspberry Pi. En la página oficial de la <a href="https://www.raspberrypi.org/downloads/">raspberry-pi</a>, en la sección descargas, se muestran las diferentes opciones de instalación que se pueden utilizar, y las diferentes imágenes para poder hacerlo, como se ha elegido la opción de Raspbian se descargará la imagen correspondiente en el disco duro. Una imagen es un conjunto de sistema operativo y aplicaciones que se graba o "flashea" en un único archivo en la tarjeta SD y así se consigue recuperar toda la información necesaria para que la Raspberry Pi arranque cuando se enciende y cargue los programas necesarios, por tanto, una imagen es un archivo con extensión .img normalmente, aunque también puede presentar otros formatos como .iso,.bin,.nrg etc. que grabada de una cierta forma en la tarjeta SD restituye el sistema operativo y las aplicaciones deseadas. Y no, no sirve con formatear la tarjeta SD y copiar allí el archivo .img, sino que hay que recuperar la información contenida en el archivo .img de forma ordenada para que pueda ser interpretada como un disco de arranque por la Raspberry Pi. Se puede utilizar el programa <a href="https://sourceforge.net/projects/win32diskimager/">Win32 Disk Imager</a> para windows o los programas para macOSX
<a href="https://www.tweaking4all.com/hardware/raspberry-pi/macosx-apple-pi-baker/">ApplePi-Baker</a> o <a href="https://etcher.io/">Etcher</a>, aplicación disponible en ambas plataformas.</p>

<p>La aplicación <i>win32 Disk Imager</i> es gratuita y permite tanto grabar una imagen a la tarjeta SD como hacer una copia de seguridad de la misma a Windows. Es decir, se puede crear un archivo .img a partir de los contenidos de la tarjeta SD. Y así tener un sistema configurado en la Raspberry Pi, o bien haber instalado una serie de aplicaciones en la tarjeta SD. Si se vuelca de nuevo al ordenador en un archivo .img se obtiene una copia de seguridad de la misma, que se podrá clonar en sendas tarjetas SD tantas veces como sea necesario. </p>

<p><img src="images/DiskManager1.png" title="Win32 Disk Manager" alt="Disk Manager captura 1" class="izquierda" /><img src="images/DiskManager2.png" title="Win32 Disk Manager" alt="Disk Manager captura 2" class="izquierda" /><img src="images/DiskManager3.png" title="Win32 Disk Manager" alt="Disk Manager captura 3" class="izquierda" />La instalación es realmente sencilla, sólo hay que seguir los pasos, elegir donde se quiere instalar, y ejecutar al finalizar la instalación.</p>
<p style="clear:both"></p>
<p>Win 32 Disk Imager es una aplicación realmente sencilla de usar, aunque se debe tener una única precaución. Hay que asegurarse de que la unidad en la que se quiere grabar la imagen corresponde realmente con la tarjeta SD. <strong>Mucha atención, porque se puede borrar una partición o un disco del ordenador si no se tiene cuidado.</strong>.Una vez comprobado que la SD es la unidad en la que se quiere grabar la imagen, se selecciona y se indica el nombre de la imagen a grabar en la tarjeta de memoria. Por último se pulsa el botón Write y en pocos minutos habrá finalizado la copia. También se puede hacer la operación contraria,y así se consigue una copia de seguridad del contenido de una tarjeta SD en el ordenador, dándole un nombre y pinchando en el botón Read, y se guardará en un archivo con el nombre dado en el ordenador una nueva imagen.</p>

<p align="center"><img src="images/DiskManager4.png" title="Win32 Disk Manager" alt="Disk Manager captura 4" /></p>
<p><a href="#"><img src="images/icono-arrow-circle-up.svg" alt="Principio de la página" title="Principio de la página" width="36" height="36" class="derecha"/></a></p>
<p style="clear:both"></p>

<p> <i>ApplePi-Baker</i> es una aplicación similar a Win32 Disk Imager pero para entornos macOSX:</p>
<p><img src="images/applepi_baker.png" title="ApplePi-Baker" alt="Apple-Pi Baker captura 1" class="izquierda" />Como se muestra en la imagen, ApplePi-Baker tiene varias partes diferenciadas. En el apartado Pi-Crust se ven las SD detectadas en el ordenador. Cuando se introduce una en el lector de SD, dicha tarjeta aparece en el recuadro correspondiente. También se puede usar el botón de refresco para asegurar que el ordenador ha leído la tarjeta, o bien expulsarla.<br /><br />

A la derecha en Pi-Ingredients es donde se indica cuál es el archivo .IMG que se quiere grabar en la tarjeta SD. Al pulsar en el botón IMG to SD CARD todos los contenidos de la tarjeta SD desaparecerán, así que <strong> cuidado al introducir una SD con información que no se quiera perder.</strong><br /><br />

Justo debajo aparece el apartado Pi-in-the-freezer para hacer una copia de seguridad del contenido de la tarjeta SD al ordenador. Y a su izquierda se observa que también se puede instalar <i>NOOBS</i> en la tarjeta SD. <br /><br />NOOBS es el acrónimo de New Out Of Box Software, una distribución que permite la instalación de varios "sistemas operativos" en una misma tarjeta SD, pudiendo decidir cuando se arranca la Raspberry Pi qué se quiere ejecutar. Así, se puede decidir ejecutar Raspbian o Openelec, entre unas cuantas opciones desde la imagen NOOBS en el arranque de la Raspberry Pi.</p>
<p style="clear:both"></p>
<p>Por último se muestra la aplicación <i>Etcher</i>, que está disponible para ambas plataformas:</p>
<p><img src="images/etcher.png" title="Etcher" alt="Etcher captura 1" class="izquierda" />Etcher es una aplicación gratuita y de código abierto desarrollada para facilitar en todo lo posible la grabación de imágenes ISO, IMG y otros formatos comprimidos directamente y de forma segura a memorias USB y tarjetas de memoria.Sus principales características son:<br /><br />
  <ul><li>Ofrece una interfaz sencilla y agradable.</li><br />
  <li>Cuenta con sistemas de validación para evitar la creación de memorias corruptas.</li><br />
  <li>Facilita la elección de la unidad USB de destino evitando así borrar por error un disco duro.</li><br />
  <li>Escrito completamente en JS, HTML, Node.js y Electron.</li><br />
  <li>(Próximamente) Permitirá grabar varias memorias de forma simultánea.</li></ul></p>
  <p><img src="images/etcher1.png" title="Etcher" alt="Etcher captura 2" class="izquierda" />El proceso de copiado consta de 3 pasos:<br /><br />

    <ol><li>Select Image – Seleccionar la imagen ISO, IMG o de cualquier otro formato compatible y la cargarla en el programa.</li><br />
    <li>Select Drive – Elegir la unidad de destino donde grabar la imagen seleccionada en el paso 1.</li><br />
    <li>Flash! – Si todo está correcto, comienza la grabación.</li></ol></p>
<p><img src="images/etcher2.png" title="Etcher" alt="Etcher captura 3" class="izquierda" />El proceso de grabación de la imagen tardará varios minutos, según el tamaño de ésta y la velocidad tanto del USB como del ordenador. Una vez finalice la copia de los datos, Etcher realizará una serie de configuraciones adicionales con el fin de verificar que todo está correcto y no se ha generado un medio corrupto.<br /></p>
  <p><img src="images/etcher3.png" title="Etcher" alt="Etcher captura 4" class="izquierda" />Una vez finalice dicha verificación, la tarjeta SD ya estará lista con la imagen IMG del sistema operativo Raspbian. Ahora ya se puede arrancar la Raspberry Pi desde la tarjeta SD y comenzar con la instalación, mejorando además la velocidad de lectura y reduciendo notablemente el tiempo que tardan las diferentes tareas de carga y arranque.</p><br />

  <p><a href="#"><img src="images/icono-arrow-circle-up.svg" alt="Principio de la página" title="Principio de la página" width="36" height="36" class="derecha"/></a></p>
<p style="clear:both"></p>

<p id="noobs">Ahora ya está lista la tarjeta SD para insertarse en la ranura SD de la Raspberry Pi y comenzar con la instalación de Raspbian. Desde la página oficial de la <a href="https://www.raspberrypi.org/downloads/">raspberry-pi</a> se pueden descargar diferentes opciones, entre ellas se encuentra <i>NOOBS</i>, que como se ha comentado anteriormente, es el acrónimo de New Out Of Box Software, es un lanzador de distribuciones para novatos de Raspberry Pi. NOOBS ofrece las ventajas del multi-boot en la Raspberry Pi, compatible con todas sus versiones. En NOOBS se encuentran todos los sistemas operativos oficiales para raspberry-pi en un solo paquete para que se pueda usar cualquiera desde una sola tarjeta de memoria SD y sin realizar cambios drásticos en ella. Todo de manera sencilla y eligiendo el SO que más se adapte a las necesidades de cada momento, es la que se recomienda para empezar, permite instalar, confirgurar y probar todas las distribuciones que ofrecen en la web. Se ofrecen dos versiones distintas de NOOBS, una que incluye Raspbian y es "offline" y además se pueden seleccionar otros sistemas operativos que se descargan de interntet para poder ser instalados, y la versión NOOBS Lite, que contiene los mismos sistemas operativos para poder descargar desde internet pero no está Raspbian precargado y es necesario estar conectado a la red. </p>

<p align="center"><img src="images/versiones_noobs.png" title="NOOBS.New Out Of Box Software" alt="NOOBS captura versiones" /></p><br />

<p>La Raspberry Pi Foundation integra como parte del proyecto 2, NOOBS y RaspbianOS, pero se pueden instalar otros de terceros desde NOOBS: <br /><br />

<ol><li><em>Raspbian</em> es la opción recomendada, puesto que es una distribución Linux basada en Debian Wheezy especialmente pensada para la arquitectura ARM y con Pi Store para descargar multitud de aplicaciones para la Raspberry Pi. Al estar basada en Debian, su sistema de paquetería es DEB, evidentemente.</li>
<li><em>LibreELEC</em>, en sustitución de OpenELEC, otro sistema bastante similar y que se integraba en anteriores versiones de NOOBS. Se trata de otra distribución especialmente pensada para el contenido multimedia</li>
<li><em>Raspbian Lite</em>, es una versión de Raspbian sin el entorno gráfico Pixel y bastante menos pesada.</li>
<li><em>Lakka</em>, se trata de un completo sistema de emulación de consolas.</li>
<li><em>Data Partition</em>, añade una partición de 512MB vacía en formato ext4 al diseño de particiones.</li>
<li><em>OSMC</em> (anteriormente RaspBMC) es una distribución que se apoya en dos pilares básicos, Debian y Kodi. Así se podrá tener un Media Center en la TV o transformarla en una SmartTV con acceso a contenidos multimedia, juegos, aplicaciones e Internet.</li>
<li><em>Recalbox</em>, la mezcla perfecta, se trata de una distribución que unifica un sistema de emulación de juegos retro con un completo sistema media center.</li>
<li><em>Windows 10 IoT</em> es la propuesta de Microsoft que es compatible con la Pi. Aunque no sea de código abierto y esté limitado, su relación con Azure puede abrir muchas posibilidades y la fundación lo ha integrado como una alternativa más.</li></ol></p><br />

<p id="otras">Actualmente la Raspberry Pi Foundation ha añadido otros sistemas operativos oficiales para instalar de forma individual. Se pueden encontrar imágenes nuevas como las de <b>Raspbian</b>, <b>Ubuntu Mate</b>, <b>Snappy Ubuntu Core</b>, <b>Windows 10 IoT Core</b>, <b>OSMC</b>, <b>LibreELEC</b>, <b>Pinet</b>, <b>Risc OS</b>, <b>Weather Station</b> y por último <b>Ichigo Jam</b> </p>

<p align="center"><img src="images/otras_opciones.png" title="Sistemas Operativos oficiales" alt="Sistemas Operativos oficiales" /></p><br />

<p><i>Primer inicio y selección de sistema operativo:</i></p>
    <p>Lo primero que se verá será el menú principal de NOOBS cuando se arranque la Raspberry Pi. La pantalla del Recovery Tools mostrará los sistemas operativos disponibles en la versión de NOOBS que se haya descargado. Igualmente se puede seleccionar el idioma en el menú Language y cambiar a Español.</p>

    <p>Para comenzar a usar uno de los sistemas operativos disponibles (en las nuevas versiones de NOOBS solo está disponible Raspbian OS para usarlo offline, el resto se deben descargar para instalarlos), hay que seleccionar el que se desea y pulsar ENTER o en el botón Install que aparece. Para cambiar de SO sólo hay que pulsar la tecla Shift al iniciar la Raspberry, lo que dará acceso también a la edición del fichero config.txt para modificar ciertos parámetros de la distribución que está instalada actualmente (resolución de pantalla, overscan, etc…). Además, en el nuevo menú de NOOBS también se podrá acceder a Internet gracias al navegador <b>Arora</b> que se ha integrado. Se trata de un navegador web basado en el motor QtWebKit y resulta práctico para consultar información antes incluso de tener alguna distro instalada</p>

<p><a href="#"><img src="images/icono-arrow-circle-up.svg" alt="Principio de la página" title="Principio de la página" width="36" height="36" class="derecha"/></a></p>
<p style="clear:both"></p>


<p id="conex"><h3>Conexión a Raspberry Pi a través de SSH</h3></p>
<hr />
  <p class="mclibre">
    Esta página forma parte del proyecto <a href="https://nacholoop.github.io/enigma/"><cite>Mini servidor para prácticas ASIR</cite></a> por <cite>Nacho López Espert</cite>
  </p>
</body>
</html>
